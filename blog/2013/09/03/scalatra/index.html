
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Scalatra, Scalate, Jade, and Markdown: Together at Last - Strangely Specific and Very Odd</title>
  <meta name="author" content="Ross M. Donaldson">

  
  <meta name="description" content="So I’m awfully fond of Scala, so when I got going building web apps, Scalatra seemed like an excellent choice. (I’m natively wary of things like &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://Gastove.github.io/blog/2013/09/03/scalatra">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Strangely Specific and Very Odd" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Strangely Specific and Very Odd</a></h1>
  
    <h2>The (Sometimes) Professional Blog of Ross M. Donaldson</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:Gastove.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="http://www.gastove.com/">Home</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Scalatra, Scalate, Jade, and Markdown: Together at Last</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-03T09:10:00-07:00" pubdate data-updated="true">Sep 3<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>So I’m awfully fond of Scala, so when I got going building web apps, <a href="www.scalatra.org">Scalatra</a> seemed like an excellent choice. (I’m natively wary of things like Rails, and the Play! framework seemed more-or-less of Rails’ ilk.) Scalatra supports templating via <a href="http://scalate.fusesource.org">Scalate</a>, which is as charming as it is flexible – that is, very. As part of that flexibility, Scalate supports more templating languages than I really need. I like the terse, Haml-based <a href="http://jade-lang.com/">Jade</a> myself – particularly because it supports <a href="http://daringfireball.net/projects/markdown/syntax">markdown</a>, meaning your templates can be lovely, dry things.</p>

<!-- more -->

<p>For instance:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="jade"><span class="line"><span class="nc">.foo</span>
</span><span class="line">  <span class="nd">:markdown</span>
</span><span class="line">    <span class="nd">This will make a paragraph inside a &#39;foo&#39; element from your CSS, close it correctly, and finish with a properly tagged [hyperlink](www.foo.bar).</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Lovely! Only one problem: it was broken out of the box. Any inclusion of the <code>:markdown</code> filter caused the compiler to throw a <code>java.lang.NoSuchMethodError</code> exception. Fan. Tastic.</p>

<p>So I started hacking, and tried a bunch of things that failed – including, ironically, the correct answer implemented slightly incorrectly. I owe my eventual success to <a href="http://stackoverflow.com/questions/18345085/java-lang-nosuchmethoderror-in-scalatra-using-scalate-with-markdown">Stack Overflow</a>. What I suspected turned out to be correct, and goes a little like this:</p>

<p>Scalatra comes pre-packed with its own version of Scalate; Scalate comes pre-packaged with its own version of Jade. The problem is, neither Scalatra nor Scalate ever mention that what isn’t baked in <em>anywhere</em> is Scalate’s markdown support, which lives in <a href="http://maven.apache.com">Maven</a>. I got an inkling of this, and tried:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>build.sbt</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="scala"><span class="line"><span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">&quot;org.fusesource.scalamd&quot;</span> <span class="o">%</span> <span class="s">&quot;scalamd&quot;</span> <span class="o">%</span> <span class="s">&quot;1.5&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>There are two errors here; the most problematic is the number 5. <code>scalamd 1.5</code> is built against Scala 2.8. For my own version, Scala 2.10.0, you need version 1.6, plus an extra % for correct lookup formatting, so:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>build.sbt</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="scala"><span class="line"><span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">&quot;org.fusesource.scalamd&quot;</span> <span class="o">%%</span> <span class="s">&quot;scalamd&quot;</span> <span class="o">%</span> <span class="s">&quot;1.6&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>BOOM. Works like a charm. And it’s an easy fix! I just wish <em>somebody</em>, anybody at either Scalatra or Scalate HQ would mention the damn dependency! (I’ve poked at them via Twitter, but while both projects are under active development, the Twitter feeds… aren’t, alas.)</p>

<p>In any case, I hope this saves people some time. Onwards, to better styled, DRYer, lovelier web apps!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Ross M. Donaldson</span></span>

      








  


<time datetime="2013-09-03T09:10:00-07:00" pubdate data-updated="true">Sep 3<span>rd</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/development/'>Development,</a>, <a class='category' href='/blog/categories/glitches/'>Glitches,</a>, <a class='category' href='/blog/categories/scalatra/'>Scalatra,</a>, <a class='category' href='/blog/categories/solutions/'>Solutions</a>, <a class='category' href='/blog/categories/web/'>Web</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://Gastove.github.io/blog/2013/09/03/scalatra/" data-via="" data-counturl="http://Gastove.github.io/blog/2013/09/03/scalatra/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/08/26/emacs-for-sql/" title="Previous Post: Setting up Emacs Prelude for Multiple SQL Databases and Query Development">&laquo; Setting up Emacs Prelude for Multiple SQL Databases and Query Development</a>
      
      
    </p>
  </footer>
</article>


</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/09/03/scalatra/">Scalatra, Scalate, Jade, and Markdown: Together at Last</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/26/emacs-for-sql/">Setting up Emacs Prelude for Multiple SQL Databases and Query Development</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/11/thoughts_on_this_site_so_far/">Thoughts on this Site So Far</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/11/correcting-text-alignment-for-gists-in-octopress-themes/">Correcting Text Alignment for Gists in Octopress Themes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/11/pure-show-and-tell-my-first-gist/">Pure Show-And-Tell: My First Gist</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ross M. Donaldson -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  










  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
